// bookmarklet.src.jsを下記サイトでコンパイルしたもの
// Bookmarklet Crunchinator
// http://ted.mielczarek.org/code/mozilla/bookmarklet.html

javascript:(function(){var%20format="#WristableGPS%20で走りました%20=日付,%20=ワークアウト名,%20=タイム（長）,%20=タイム（短）,%20=開始時間,%20=終了時間,%20=距離,%20=平均ペース,%20=カロリー,%20=ピッチ,%20=ストライド,%20=歩数,%20=上昇,%20=下降%20=平均心拍,%20=最小心拍,%20=最大心拍";var%20isCutSpace=false;var%20out=formatNeoRunData(getNeoRunData(),format,isCutSpace);out=prompt("この内容でTwitterのツイートページを表示します",out);if(out){open("http://twitter.com/share?text="+encodeURIComponent(out),null,"_blank");}function%20formatNeoRunData(data,format,isCutSpace){function%20cutSpace(prop){var%20propAlt=prop;if(isCutSpace){propAlt=propAlt.replace(/\s/,"");}return%20propAlt;}var%20out=format;out=out.replace(/=日付/g,data.date);out=out.replace(/=ワークアウト名/g,data.workoutName);out=out.replace(/=タイム（長）/g,data.durationLong);out=out.replace(/=タイム（短）/g,data.durationShort);out=out.replace(/=開始時間/g,data.startTime);out=out.replace(/=終了時間/g,data.endTime);out=out.replace(/=距離/g,cutSpace(data.distance));out=out.replace(/=平均ペース/g,cutSpace(data.averagePace));out=out.replace(/=カロリー/g,cutSpace(data.calorie));out=out.replace(/=ピッチ/g,cutSpace(data.averagePitch));out=out.replace(/=ストライド/g,cutSpace(data.averageStride));out=out.replace(/=歩数/g,cutSpace(data.steps));out=out.replace(/=スピード/g,cutSpace(data.averageSpeed));out=out.replace(/=上昇/g,cutSpace(data.totalAscent));out=out.replace(/=下降/g,cutSpace(data.totalDescent));out=out.replace(/=平均心拍/g,cutSpace(data.averagePulse));out=out.replace(/=最小心拍/g,cutSpace(data.minPulse));out=out.replace(/=最大心拍/g,cutSpace(data.maxPulse));return%20out;}function%20getNeoRunData(){function%20getCol(id){return%20$(id).parent().parent();}function%20getColData1Text(id){return%20getCol(id).find(".data1").text();}var%20data={};data.date=$("#workout_detail%20.roll_calender%20.font22.font_bold").text();data.workoutName=$("#trainingName-sp").text();var%20$timeCol=getCol("#trainingTimeLabel");data.durationLong=$timeCol.find(".data1").text();data.durationShort=data.durationLong.substring(0,data.durationLong.lastIndexOf("."));var%20timeRange=$timeCol.find(".data2").text();var%20timeRangeSplits=timeRange.split(/-/);data.startTime=timeRangeSplits[0];data.endTime=timeRangeSplits[1];data.distance=getColData1Text("#distanceLabel");data.averagePace=getColData1Text("#averagePaceLabel");data.calorie=getColData1Text("#calorieLabel");data.averagePitch=getColData1Text("#averagePitchLabel");data.averageStride=getColData1Text("#averageStrideLabel");data.steps=getColData1Text("#stepsLabel");data.averageSpeed=getColData1Text("#averageSpeedLabel");data.totalAscent=getColData1Text("#totalAscentLabel");data.totalDescent=getColData1Text("#totalDescentLabel");var%20$pulseCol=getCol("#averagePulseLabel");data.averagePulse=$pulseCol.find(".data1").text();var%20pulseRange=$pulseCol.find(".data3").text();var%20pulseRangeSplits=pulseRange.split(/\s/);data.minPulse=pulseRangeSplits[1]+"%20"+pulseRangeSplits[2];data.maxPulse=pulseRangeSplits[4]+"%20"+pulseRangeSplits[5];return%20data;}})();